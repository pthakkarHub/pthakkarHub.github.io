<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Functions and Pointers - Prashant Thakkar</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="Go, does not have keywords like private, public, protected and final etc and Go does not have concept of inheritance so it is very important to understand how functions can be used to do things that we ideally do when we use any other language.">
		<meta property="og:title" content="Functions and Pointers" />
<meta property="og:description" content="Go, does not have keywords like private, public, protected and final etc and Go does not have concept of inheritance so it is very important to understand how functions can be used to do things that we ideally do when we use any other language." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/golang/functions_pointers/" />
<meta property="article:published_time" content="2016-01-13T13:53:25+06:30" />
<meta property="article:modified_time" content="2016-01-13T13:53:25+06:30" />

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-74735062-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="/tipuesearch/tipuesearch_content.js"></script>
	<link href="/tipuesearch/tipuesearch.css" rel="stylesheet">
	<script src="/tipuesearch/tipuesearch_set.js"></script>
	<script src="/tipuesearch/tipuesearch.min.js"></script>
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Prashant Thakkar" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Prashant Thakkar</div>
					<div class="logo__tagline">Learning and Expressing</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				<i class='fa fa-heart'></i>
				<span class="menu__text">Blogs</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/articles/">
				
				<span class="menu__text">Articles</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/book_reviews/">
				
				<span class="menu__text">Book Reviews</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Functions and Pointers</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2016-01-13T13:53:25&#43;06:30">January 13, 2016</time></div></div>
		</header><div class="content post__content clearfix">
			<h2 id="functions">Functions</h2>
<p>Go, does not have keywords like private, public, protected and final etc and Go does not have concept of inheritance so it is very important to understand how functions can be used to do things that we ideally do when we use any other language.</p>
<p>Keyword <strong>func</strong>, is used for defining function. We have already seen the function <strong>main</strong> which is starting point of every application.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {
	fmt.Println(<span style="color:#e6db74">&#34;Hello, playground&#34;</span>)
}
</code></pre></div><p>Function <strong>main</strong> is a special function, and when defined in <strong>package main,</strong> it is used as a starting point of your application. Function <strong>main</strong> neither accepts any input nor does it return any value. As soon as function <strong>main</strong> completes execution, the program exits.</p>
<p>Similar to function <strong>main,</strong> we can declare a custom function, which can accept an input and returns a value as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">funcName</span>(i <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">return</span> i
}
</code></pre></div><p>Here we have declared function <strong>funcName</strong>, which accepts <strong>i</strong> of type <strong>int</strong> as input and returns the same value back.</p>
<h3 id="return-multiple-values">Return multiple values</h3>
<p>Now let us modify function <strong>funcName</strong> to accept 2 input parameters and return them.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">funcName</span>(i <span style="color:#66d9ef">int</span>, s string) (<span style="color:#66d9ef">int</span>, string) {
	<span style="color:#66d9ef">return</span> i, s
}
</code></pre></div><p>Function <strong>funcName</strong>, returns back 2 values of type int and string. It is possible to return multiple values from a function. Caller of this function can chose whether to use all the returned value. In case if you do not want to use all the returned values use <strong>Blank Identifier</strong> (&quot;_&rdquo; Underscore) to skip. As shown below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">i, _ <span style="color:#f92672">=</span> funcName(<span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;ABC&#34;</span>)
</code></pre></div><p>This will skip 2<!-- raw HTML omitted -->nd<!-- raw HTML omitted --> value returned from function.</p>
<p>Let us add one more parameter of type <strong>int</strong> to <strong>funcName</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">funcName</span>(i, j <span style="color:#66d9ef">int</span>, s string) (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>, string) {
	<span style="color:#66d9ef">return</span> i, j, s
}
</code></pre></div><p>Now function <strong>funcName</strong> is accepting 3 parameters, 2 of type <strong>int</strong> (<strong>i</strong> and <strong>j</strong>) and one of type <strong>string</strong>. Note the way in which <strong>i</strong> and <strong>j</strong> are declared.</p>
<h3 id="anonymous-inline">Anonymous (inline)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {
	i, j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>
	c :<span style="color:#f92672">=</span> func(a, b <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
		<span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b
	}(i, j)

	fmt.Println(<span style="color:#e6db74">&#34;Total :&#34;</span>, c)
}
</code></pre></div><p><a href="http://play.golang.org/p/POfVLVe9je">http://play.golang.org/p/POfVLVe9je</a></p>
<p><strong>Output:</strong></p>
<p>Total : 30</p>
<p>Here we have created an inline function for adding two numbers. Function takes 2 values as input and returns result of addition, which we are assigning to variable c. Check (I, j) at the end of the inline function after &ldquo;}&rdquo;, this will invoke the function immediately after declaration.</p>
<p>But in case if that&rsquo;s not the requirement, we can do something as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {

	i, j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>

	c :<span style="color:#f92672">=</span> func(a, b <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
		<span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b
	}

	fmt.Println(<span style="color:#e6db74">&#34;Total :&#34;</span>, c(i, j))
}
</code></pre></div><p><a href="http://play.golang.org/p/0Ya9JnvI0_">http://play.golang.org/p/0Ya9JnvI0_</a></p>
<p><strong>Output:</strong></p>
<p>Total : 30</p>
<p>Here we have declared inline function, and assigned it to <strong>c</strong>, now <strong>c</strong> is pointing to inline function which we are invoking in <strong>Println</strong> statement via c(i, j).</p>
<h3 id="function-with-named-return">Function with Named Return</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {
	i, j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>
	result, remainder :<span style="color:#f92672">=</span> divide(i, j)
	fmt.Printf(<span style="color:#e6db74">&#34;Divide %d by %d. Result %d, remainder %d&#34;</span>, i, j, result, remainder)
}

func <span style="color:#a6e22e">divide</span>(i, j <span style="color:#66d9ef">int</span>) (result <span style="color:#66d9ef">int</span>, mod <span style="color:#66d9ef">int</span>) {
	<span style="color:#66d9ef">if</span> j <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
		result <span style="color:#f92672">=</span> i <span style="color:#f92672">/</span> j
		mod <span style="color:#f92672">=</span> i <span style="color:#f92672">%</span> j
	}
	<span style="color:#66d9ef">return</span>
}
</code></pre></div><p><a href="http://play.golang.org/p/_CyIxAO7R5">http://play.golang.org/p/_CyIxAO7R5</a></p>
<p><strong>Output:</strong></p>
<p>Divide 9 by 2. Result 4, remainder 1</p>
<p>We have declared function <strong>divide</strong>, for dividing 2 integers and return <strong>result</strong> and <strong>remainder</strong>. Check the way we have declared values to be returned for function <strong>divide</strong>. We have given them name <strong>result</strong> and <strong>remainder</strong> and used them in function for holding result and remainder respectively. Note that in this case we are not passing values to be returned in return statement at the end of the function. Since we have named return values in function declaration, Go will internally return them.</p>
<p>Note: Named parameters will be initialized to their Zero values by Go. In this case since <strong>result</strong> and <strong>mod</strong> are declared as <strong>int</strong> they will be initialized to 0. Now if we do not use them in function, 0 will be returned.</p>
<h3 id="variadic-function-arbitrary-number-of-parameters">Variadic Function (Arbitrary Number of Parameters)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {
	fmt.Printf(<span style="color:#e6db74">&#34;Total = %d&#34;</span>, computeTotal(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>))
}

func <span style="color:#a6e22e">computeTotal</span>(nums ...<span style="color:#66d9ef">int</span>) (total <span style="color:#66d9ef">int</span>) {
	<span style="color:#66d9ef">for</span> _, i :<span style="color:#f92672">=</span> range nums {
		total <span style="color:#f92672">+=</span> i
	}
	<span style="color:#66d9ef">return</span>
}
</code></pre></div><p><a href="http://play.golang.org/p/SIXdL9-3AJ">http://play.golang.org/p/SIXdL9-3AJ</a></p>
<p><strong>Output:</strong></p>
<p>Total = 21</p>
<p>Function <strong>computeTotal</strong>, accepts arbitrary number of integers, add them and returns <strong>total</strong>. Key things to note here is the way to pass arbitrary number of parameters (we used the &hellip;int symbol to notify that it is a series of integers), named return value and use of Blank Identifier. Also note, that arbitrary parameter should be last parameter in the list of parameters passed (right most parameter).</p>
<h3 id="pass-by-value">Pass By Value</h3>
<p>When values are passed to a function they are passed by value i.e. new copy of the type is created and passed as parameter to the function.</p>
<p>Let us look at the example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {

	i :<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
	fmt.Println(<span style="color:#e6db74">&#34;Value in main before calling function :&#34;</span>, i)
	computeAndPrint(i)
	fmt.Println(<span style="color:#e6db74">&#34;Value in main after calling function :&#34;</span>, i)
}

func <span style="color:#a6e22e">computeAndPrint</span>(i <span style="color:#66d9ef">int</span>) {
	i <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
	fmt.Println(<span style="color:#e6db74">&#34;Value in function :&#34;</span>, i)
}
</code></pre></div><p><a href="http://play.golang.org/p/zmxQBKgd44">http://play.golang.org/p/zmxQBKgd44</a></p>
<p><strong>Output:</strong></p>
<p>Value in main before calling function : 10<br>
Value in function : 100<br>
Value in main after calling function : 10</p>
<p>We created variable <strong>i</strong> of type <strong>int</strong> in function <strong>main</strong> and initialized it to 10. Then we called the function <strong>computeAndPrint</strong>, in which we changed the value of <strong>i</strong> to 100 and printed it.</p>
<p>Now if you check the output, you can see value of <strong>i</strong> as 10 when printed in function <strong>main</strong> before and after calling <strong>computeAndPrint</strong> function. And when printed within the function <strong>computeAndPrint</strong> it is printed as 100 since on 1<!-- raw HTML omitted -->st<!-- raw HTML omitted --> line in the function <strong>computeAndPrint</strong>, we are updating the value of <strong>i</strong> to 100.</p>
<p>This shows that values passed as parameter to function are passed as value.</p>
<p>Let us look at another example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">type Person <span style="color:#66d9ef">struct</span> {
	FirstName string
	LastName  string
}

func main() {
	p :<span style="color:#f92672">=</span> Person{<span style="color:#e6db74">&#34;ABC&#34;</span>, <span style="color:#e6db74">&#34;XYZ&#34;</span>}
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in main (before swap) :&#34;</span>, p)
	swapAndPrint(p)
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in main (after swap) :&#34;</span>, p)
}

func swapAndPrint(p Person) {
	p.FirstName, p.LastName <span style="color:#f92672">=</span> p.LastName, p.FirstName
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in function :&#34;</span>, p)
}
</code></pre></div><p><a href="http://play.golang.org/p/GSdAd2HHwm">http://play.golang.org/p/GSdAd2HHwm</a></p>
<p><strong>Output:</strong></p>
<p>Value of Person in main (before swap) : {ABC XYZ}<br>
Value of Person in function : {XYZ ABC}<br>
Value of Person in main (after swap) : {ABC XYZ}</p>
<p>We have struct <strong>Person</strong>, with 2 fields <strong>FirstName</strong> and <strong>LastName</strong>. In main function we create instance for Person and print it, then we call <strong>swapAndPrint</strong> function, which will swap <strong>FirstName</strong> and <strong>LastName</strong> and print it.</p>
<p>After calling <strong>swapAndPrint</strong>, we again print Person in function main.</p>
<p>From output you can see, that before and after call to <strong>swapAndPrint</strong> function, <strong>FirstName</strong> and **LastName **are printed as same as what they were set while creating instance of Person. While in <strong>swapAndPrint</strong> function, we have swapped <strong>FirstName</strong> and <strong>LastName</strong>.</p>
<p>This is because; when <strong>Person</strong> is passed to function a new copy of <strong>Person</strong> is created and passed. Hence any change in within the function does not get reflected outside the function i.e. in <strong>main</strong> function.</p>
<h3 id="function-vs-method">Function Vs Method</h3>
<p>Ideally the terms <strong>function</strong> and <strong>method</strong> are used interchangeably, but that&rsquo;s not correct. If functions are defined within class and called on object of that class they are called as methods.  Go is not OO language and does not have concept of class. In Go, if function is called upon struct it is called as method. Let us modify the function <strong>swapAndPrint</strong> in above example to method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">type Person <span style="color:#66d9ef">struct</span> {
	FirstName string
	LastName  string
}

func main() {

	p :<span style="color:#f92672">=</span> Person{<span style="color:#e6db74">&#34;ABC&#34;</span>, <span style="color:#e6db74">&#34;XYZ&#34;</span>}
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in main (before swap) :&#34;</span>, p)
	p.swapAndPrint()
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in main (after swap) :&#34;</span>, p)

}

func (p Person) swapAndPrint() {
	p.FirstName, p.LastName <span style="color:#f92672">=</span> p.LastName, p.FirstName
	fmt.Println(<span style="color:#e6db74">&#34;Value of Person in function :&#34;</span>, p)

}
</code></pre></div><p><a href="http://play.golang.org/p/wtl5Ziwr0B">http://play.golang.org/p/wtl5Ziwr0B</a></p>
<p><strong>Output:</strong></p>
<p>Value of Person in main (before swap) : {ABC XYZ}<br>
Value of Person in function : {XYZ ABC}<br>
Value of Person in main (after swap) : {ABC XYZ}</p>
<p>Note the signature of function <strong>swapAndPrint</strong>,</p>
<p><code>func (p Person)swapAndPrint()</code></p>
<p>Here the preceding (p Person), is called as receiver for function <strong>swapAndPrint</strong> i.e.  <strong>swapAndPrint</strong> is a method and can only be called on Person.</p>
<p>Check the way method <strong>swapAndPrint</strong> is called in comparison to the previous example.</p>
<h2 id="pointers">Pointers</h2>
<p>Pointers are nothing but a variable holding memory address. Using pointers one can directly access memory location. Those who have used or know C/C++ should be familiar with the concept of pointers.</p>
<p>As we have seen above, in Go when we pass parameters to a function, a copy of the parameter is passed and hence it is immutable i.e. any changes made within the function are not available to the caller. Since Pointers allow direct access to memory, using Pointers can save creating of copy, which can directly have a performance impact. But using Pointers will allow function to change the value, so depending upon the need, we need to wisely pick whether to use Pointers or not.</p>
<p>Let us look at example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {

	i :<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
	p2i :<span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>i

	fmt.Println(<span style="color:#e6db74">&#34;Value of i :&#34;</span>, i)
	fmt.Println(<span style="color:#e6db74">&#34;Value of Pointer to i :&#34;</span>, p2i)
	fmt.Println(<span style="color:#e6db74">&#34;Value of i via Pointer :&#34;</span>, <span style="color:#f92672">*</span>p2i)

	<span style="color:#f92672">*</span>p2i <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
	
	fmt.Println(<span style="color:#e6db74">&#34;----------After Updating----------&#34;</span>)
	fmt.Println(<span style="color:#e6db74">&#34;Value of i :&#34;</span>, i)
	fmt.Println(<span style="color:#e6db74">&#34;Value of Pointer to i :&#34;</span>, p2i)
	fmt.Println(<span style="color:#e6db74">&#34;Value of i via Pointer :&#34;</span>, <span style="color:#f92672">*</span>p2i)
}
</code></pre></div><p><a href="http://play.golang.org/p/DJlKQhuSK1">http://play.golang.org/p/DJlKQhuSK1</a></p>
<p><strong>Output:</strong></p>
<p>Value of i : 10<br>
Value of Pointer to i : 0x104382e0<br>
Value of i via Pointer : 10<br>
&mdash;&mdash;&mdash;-After Updating&mdash;&mdash;&mdash;-<br>
Value of i : 100<br>
Value of Pointer to i : 0x104382e0<br>
Value of i via Pointer : 100</p>
<h3 id="pointer-as-receiver">Pointer as Receiver</h3>
<p>We have learnt so far that when passing parameters to function, Go passes by value. But if we have a need to modify value of the original element or if element is a complex and deep struct, copying it may have performance impact. In this case it will be ideal to use Pointers. Pointer can be passed as parameter to the function or can act as receiver to function.</p>
<p>Let see an example for pointer as receiver to function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">type Person <span style="color:#66d9ef">struct</span> {
	Name  string
	DOB   string
	adult <span style="color:#66d9ef">bool</span>
}

func main() {

	p :<span style="color:#f92672">=</span> Person{Name: <span style="color:#e6db74">&#34;ABC&#34;</span>, DOB: <span style="color:#e6db74">&#34;1983-11-01&#34;</span>}
	ptr :<span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>p
	ptr.checkIfAdult()
	fmt.Println(<span style="color:#f92672">*</span>ptr)

}

func (p <span style="color:#f92672">*</span>Person) checkIfAdult() {
	t, err :<span style="color:#f92672">=</span> time.Parse(<span style="color:#e6db74">&#34;2006-01-02&#34;</span>, p.DOB)
	<span style="color:#66d9ef">if</span> err <span style="color:#f92672">==</span> nil {
		<span style="color:#66d9ef">if</span> t.Year() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1995</span> {
			p.adult <span style="color:#f92672">=</span> true
		}
	}
}
</code></pre></div><p><a href="http://play.golang.org/p/uMCJYrGprY">http://play.golang.org/p/uMCJYrGprY</a></p>
<p><strong>Output:</strong></p>
<p>{ABC 1983-11-01 true}</p>
<p>Method <strong>checkIfAdult</strong>, checks the year in DOB.If before 1995, it will treat that person as adult and will set <strong>adult</strong> flag to true. Here we have used &ldquo;<strong>time</strong>&rdquo;, for parsing DOB. First parameter to <strong>Parse</strong> method is layout, used to define the format. Second parameter is the actual string to be parsed. Method Parse return 2 values, time and error. We check if error is nil, means parsing was successful then check year in DOB to see if it is before 1995.</p>
<p>Method <strong>checkIfAdult</strong>, is defined on receiver Pointer of type <strong>Person</strong>. Hence see the way we are calling this method from function <strong>main.</strong></p>
<p>In this example in addition to package &ldquo;<strong>fmt</strong>&rdquo; we are importing package &ldquo;<strong>time</strong>&rdquo; for parsing DOB. You can import package as follow:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">import <span style="color:#e6db74">&#34;fmt&#34;</span>
import <span style="color:#e6db74">&#34;time&#34;</span>
</code></pre></div><p>But, in Go most ideal way to do so is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">import (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>
)
</code></pre></div><h3 id="pointer-as-parameter">Pointer as Parameter</h3>
<p>We will change the above example we pass pointer as parameter.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">checkIfAdult</span>(p <span style="color:#f92672">*</span>Person) {
	t, err :<span style="color:#f92672">=</span> time.Parse(<span style="color:#e6db74">&#34;2006-01-02&#34;</span>, p.DOB)
	<span style="color:#66d9ef">if</span> err <span style="color:#f92672">==</span> nil {
		<span style="color:#66d9ef">if</span> t.Year() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1995</span> {
			p.adult <span style="color:#f92672">=</span> true
		}
	}
}
</code></pre></div><p>Also change, call to the function <strong>checkIfAdult</strong>, in function <strong>main</strong> as below:</p>
<p>checkIfAdult(ptr)</p>
<h3 id="issue-while-using-pointers">Issue while using Pointers</h3>
<p>, we have declared variable <strong>i</strong> as pointer of type int.  We pass this pointer variable to function <strong>assignValue</strong>. In function <strong>assignValue</strong> we create new variable <strong>j</strong> and initialize it to 1000 and update <strong>i</strong> to point to variable <strong>j</strong>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {
	var i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>
	assignValue(i)
	fmt.Println(i)
}

func <span style="color:#a6e22e">assignValue</span>(i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>) {
	j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>
	i <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>j
}
</code></pre></div><p><a href="http://play.golang.org/p/grLQI3uH_5">http://play.golang.org/p/grLQI3uH_5</a></p>
<p>Output:</p>
<p>&lt;nil&gt;</p>
<p>Output is nil, because variable <strong>i</strong> is not initialized and when we pass it to function <strong>assignValue</strong> it is still **nil.**When in function <strong>assignValue</strong>, we assign value to variable <strong>i</strong> (<strong>i = &amp;j</strong>), which then gets initialized to values of memory address to <strong>j</strong>, but only for function <strong>assignValue</strong> execution.</p>
<p>We can solve this, in two ways one by initializing variable <strong>i</strong> in main function or by returning from function <strong>assignValue</strong> and assigning it to <strong>i</strong>.</p>
<p><strong>Approach 1: Initializing Value in main</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {

	a :<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
	var i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>a

	fmt.Println(<span style="color:#e6db74">&#34;Memory Address :&#34;</span>, i)
	fmt.Println(<span style="color:#e6db74">&#34;Value at Memory Address :&#34;</span>, <span style="color:#f92672">*</span>i)

	assignValue(i)

	fmt.Println(<span style="color:#e6db74">&#34;---------After assigning value-----------&#34;</span>)
	fmt.Println(<span style="color:#e6db74">&#34;Memory Address :&#34;</span>, i)
	fmt.Println(<span style="color:#e6db74">&#34;Value at Memory Address :&#34;</span>, <span style="color:#f92672">*</span>i)

}

func <span style="color:#a6e22e">assignValue</span>(i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>) {
	j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>
	<span style="color:#f92672">*</span>i <span style="color:#f92672">=</span> j
}
</code></pre></div><p><a href="http://play.golang.org/p/AAwGw-l4lP">http://play.golang.org/p/AAwGw-l4lP</a></p>
<p><strong>Output:</strong></p>
<p>Memory Address : 0x104382e0<br>
Value at Memory Address : 10<br>
&mdash;&mdash;&mdash;After assigning value&mdash;&mdash;&mdash;&ndash;<br>
Memory Address : 0x104382e0<br>
Value at Memory Address : 1000</p>
<p>In this approach, if you see the memory address before and after calling function <strong>assignValue</strong> is same, but value is updated from 10 to 1000. This is because of the call *<strong>i = j</strong> in function <strong>assignValue</strong>. This line updates value at the memory address pointed by <strong>i</strong> to the value of <strong>j</strong></p>
<p><strong>Approach 2: Returning Value</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">func <span style="color:#a6e22e">main</span>() {

	var i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>
	fmt.Println(<span style="color:#e6db74">&#34;Memory Address :&#34;</span>, i)

	i <span style="color:#f92672">=</span> assignValue(i)

	fmt.Println(<span style="color:#e6db74">&#34;---------After assigning value-----------&#34;</span>)
	fmt.Println(<span style="color:#e6db74">&#34;Memory Address :&#34;</span>, i)
	fmt.Println(<span style="color:#e6db74">&#34;Value at Memory Address :&#34;</span>, <span style="color:#f92672">*</span>i)
}

func <span style="color:#a6e22e">assignValue</span>(i <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span> {
	j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>
	i <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>j
	<span style="color:#66d9ef">return</span> i
}
</code></pre></div><p><a href="http://play.golang.org/p/M0dtKSlMvT">http://play.golang.org/p/M0dtKSlMvT</a></p>
<p><strong>Output:</strong></p>
<p>Memory Address : &lt;nil&gt;<br>
&mdash;&mdash;&mdash;After assigning value&mdash;&mdash;&mdash;&ndash;<br>
Memory Address : 0x104382f0<br>
Value at Memory Address : 1000</p>
<p>In this approach, since variable <strong>i</strong> is not initialized printing it we see it is nil, hence if call *<strong>i</strong>, it will throw error. Function <strong>assignValue</strong> here returns <strong>i</strong> back which is then assigned back. Check output after calling function <strong>assignValue</strong>, you can see memory address pointed and value as 1000.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Today&rsquo;s post introduced you to Functions and Pointers in Go. They form the base of Go, and play very important part while developing applications in Go. In next post we will look at a very important concept in Go : interface, which form the base of OO design in Go language.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/function/" rel="tag">Function</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/pointers/" rel="tag">Pointers</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/go/" rel="tag">Go</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/golang/" rel="tag">GoLang</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/golang/more_datatypes/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Struct, Map, Array and Slice</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/golang/interface/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Interface and Composition</p>
		</a>
	</div>
</nav>


<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "prashantthakkar" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form action="/search/index.html">
				<h1 class="text-center"><input type="text" name="q" id="tipue_search_input" autocomplete="off" align="center" required></h1>
			</form>
	
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/golang/channels/">Channels</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/golang/routines/">Go Routine</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/golang/interface/">Interface and Composition</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/golang/functions_pointers/">Functions and Pointers</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/golang/more_datatypes/">Struct, Map, Array and Slice</a></li>
		</ul>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">		
		<div class="widget-social__item widget__item">
			<a class="widget-social__link " title="Twitter" rel="noopener noreferrer" href="https://twitter.com/ppandhi" target="_blank">
				<svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-.139 9.237c.209 4.617-3.234 9.765-9.33 9.765-1.854 0-3.579-.543-5.032-1.475 1.742.205 3.48-.278 4.86-1.359-1.437-.027-2.649-.976-3.066-2.28.515.098 1.021.069 1.482-.056-1.579-.317-2.668-1.739-2.633-3.26.442.246.949.394 1.486.411-1.461-.977-1.875-2.907-1.016-4.383 1.619 1.986 4.038 3.293 6.766 3.43-.479-2.053 1.08-4.03 3.199-4.03.943 0 1.797.398 2.395 1.037.748-.147 1.451-.42 2.086-.796-.246.767-.766 1.41-1.443 1.816.664-.08 1.297-.256 1.885-.517-.439.656-.996 1.234-1.639 1.697z"/></svg>
			</a>
		
			<a class="widget-social__link " title="LinkedIn" rel="noopener noreferrer" href="https://linkedin.com/in/prashant-thakkar-7827b611" target="_blank">
				<svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
			</a>
		
			<a class="widget-social__link " title="Email" href="mailto:prashant.pandhi@gmail.com">
				<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 -140 1792 1792"><path d="M1376 128q119 0 203.5 84.5t84.5 203.5v960q0 119-84.5 203.5t-203.5 84.5h-960q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960zm32 1056v-436q-31 35-64 55-34 22-132.5 85t-151.5 99q-98 69-164 69t-164-69q-46-32-141.5-92.5t-142.5-92.5q-12-8-33-27t-31-27v436q0 40 28 68t68 28h832q40 0 68-28t28-68zm0-573q0-41-27.5-70t-68.5-29h-832q-40 0-68 28t-28 68q0 37 30.5 76.5t67.5 64.5q47 32 137.5 89t129.5 83q3 2 17 11.5t21 14 21 13 23.5 13 21.5 9.5 22.5 7.5 20.5 2.5 20.5-2.5 22.5-7.5 21.5-9.5 23.5-13 21-13 21-14 17-11.5l267-174q35-23 66.5-62.5t31.5-73.5z"/></svg>

			</a>

		

			<a class="widget-social__link " title="stack overflow" rel="noopener noreferrer" href="https://stackoverflow.com/users/2959387/prashant-thakkar" target="_blank">
					<svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-8.512 8.272l5.532 3.243-.686 1.162-5.533-3.243.687-1.162zm-1.456 3.113l6.185 1.739-.332 1.23-6.204-1.667.351-1.302zm-.672 2.813l6.498.65-.117 1.28-6.504-.586.123-1.344zm-.193 2.469h6.667v1.333h-6.667v-1.333zm8.833 3.333h-11v-7h1v6h9v-6h1v7zm-.852-8.704l-3.56-5.219 1.115-.76 3.559 5.219-1.114.76zm1.356-.841l-1.08-6.224 1.328-.231 1.082 6.224-1.33.231z"/></svg>
			</a>

		
	</div>
</div>
<br/>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/android/" title="Android">Android (6)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/async-task/" title="Async Task">Async Task (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/basics/" title="Basics">Basics (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/channels/" title="Channels">Channels (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/composition/" title="Composition">Composition (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/concurrency/" title="Concurrency">Concurrency (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/constants/" title="Constants">Constants (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/control-flows/" title="Control Flows">Control Flows (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/data-types/" title="Data Types">Data Types (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/database/" title="Database">Database (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/function/" title="Function">Function (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/go/" title="Go">Go (8)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/golang/" title="GoLang">GoLang (8)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/interface/" title="Interface">Interface (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/introduction/" title="Introduction">Introduction (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/menus/" title="Menus">Menus (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/pointers/" title="Pointers">Pointers (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/preferences/" title="Preferences">Preferences (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/routine/" title="Routine">Routine (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/sqlite/" title="Sqlite">Sqlite (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/variables/" title="Variables">Variables (1)</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Prashant Thakkar.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/tipuesearch/tipuesearch_content.js"></script><script src="/tipuesearch/tipuesearch_set.js"></script><script src="/tipuesearch/tipuesearch.min.js"></script></body>
</html>